<html lang="en">
<head>
    <title>Movie Finder: Favorites</title>
    <meta charset=utf-8 />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="styles/styles.css" />
</head>
<body> 
    <div class="content">
        <div class="message">
            <h1>Recent Searches</h1>
            <div id="resultsContainer"></div>
        </div>
    </div>
    <script>
        function loadFavs() {
            response = await fetch("./favs.json");
           
            responseMap = response.map((movie) => {
                return {
                    id: movie.id,
                    title: movie.title,
                    overview: movie.overview,
                    release_date: movie.release_date,
                    popularity: movie.popularity,
                    vote_average: movie.vote_average,
                    poster_path: movie.poster_path,
                    backdrop_path: movie.backdrop_path,
                };
            });
            // Display search results
            const resultsHTML = responseMap.map((movie) => {
                return "<div class='movie-result'><img class='poster' src='" + POSTER_URL + movie.poster_path + "' alt=''" + movie.title + "''> \
                        <h3>" + movie.title + "</h3><p>" + movie.overview + "</p > \
                        <p>Released: " + movie.release_date + "<tab>Popularity Score: " + movie.popularity + "<br></div >";
            }).join('');
            document.getElementById("resultsContainer").innerHTML = resultsHTML;
        }
        loadFavs();
    </script>
</body>
</html>